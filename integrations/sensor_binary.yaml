
  - platform: bayesian
    name: 'bedroom_presence_peter'
    prior: 0.33333
    probability_threshold: 0.9
    observations:
      - platform: state
        entity_id: person.peter
        to_state: 'not_home'
        prob_given_true: 0
        prob_given_false: 1
      - platform: template
        value_template: >-
          {{is_state('person.sharona','not_home') and is_state('binary_sensor.0x00158d00041430f5_occupancy','on')}}
        prob_given_true: 1
        prob_given_false: 0
      - platform: template
        value_template: >-
          {{is_state('person.sharona','home') and is_state('binary_sensor.0x00158d00041430f5_occupancy','on')}}
        prob_given_true: 0.5
        prob_given_false: 0.5
      - platform: state
        entity_id: media_player.kodi_slaapkamer
        to_state: 'playing'
        prob_given_true: 0.8
        prob_given_false: 0.2
      - platform: state
        entity_id: light.slaapkamer
        to_state: 'on'
        prob_given_true: 0.5
        prob_given_false: 0.5
      - platform: state
        entity_id: input_boolean.peter_inbed
        to_state: 'on'
        prob_given_true: 0.7
        prob_given_false: 0.1
      - platform: template
        value_template: >-
          {{
            ( is_state('sensor.bssid','70:3a:cb:f5:3d:c8') or
               is_state('sensor.bssid','70:3a:cb:f5:3d:cc') ) and
            ( (as_timestamp(now()) - states.sensor.bssid.last_changed | as_timestamp) < 60 )
          }}
        prob_given_true: 1
        prob_given_false: 0.1
      - platform: template
        value_template: >-
          {{
            ( is_state('sensor.bssid','70:3a:cb:f5:3d:c8') or
               is_state('sensor.bssid','70:3a:cb:f5:3d:cc') )
          }}
        prob_given_true: 0.7
        prob_given_false: 0.1

  - platform: bayesian
    name: 'bedroom_presence_sharona'
    prior: 0.33333
    probability_threshold: 0.9
    observations:
      - platform: state
        entity_id: person.sharona
        to_state: 'not_home'
        prob_given_true: 0
        prob_given_false: 1
      - platform: template
        value_template: >-
          {{is_state('person.peter','not_home') and is_state('binary_sensor.0x00158d00041430f5_occupancy','on')}}
        prob_given_true: 1
        prob_given_false: 0
      - platform: template
        value_template: >-
          {{is_state('person.peter','home') and is_state('binary_sensor.0x00158d00041430f5_occupancy','on')}}
        prob_given_true: 0.5
        prob_given_false: 0.5
      - platform: state
        entity_id: media_player.3c36e4_eosstb_003898505601
        to_state: 'playing'
        prob_given_true: 0.8
        prob_given_false: 0.2
      - platform: state
        entity_id: light.slaapkamer
        to_state: 'on'
        prob_given_true: 0.5
        prob_given_false: 0.5
      - platform: state
        entity_id: input_boolean.sharona_inbed
        to_state: 'on'
        prob_given_true: 0.9
        prob_given_false: 0.1
      - platform: template
        value_template: >-
          {{
            ( is_state('sensor.bssid','70:3a:cb:f5:3d:c8') or
               is_state('sensor.bssid','70:3a:cb:f5:3d:cc') ) and
            ( (as_timestamp(now()) - states.sensor.bssid.last_changed | as_timestamp) < 60 )
          }}
        prob_given_true: 1
        prob_given_false: 0.1
      - platform: template
        value_template: >-
          {{
            ( is_state('sensor.bssid','70:3a:cb:f5:3d:c8') or
               is_state('sensor.bssid','70:3a:cb:f5:3d:cc') )
          }}
        prob_given_true: 0.7
        prob_given_false: 0.1
